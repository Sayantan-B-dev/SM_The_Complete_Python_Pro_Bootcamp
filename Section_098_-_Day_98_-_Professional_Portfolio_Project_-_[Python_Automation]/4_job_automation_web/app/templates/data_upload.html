{% extends "base.html" %}
{% block content %}
<h1 style="font-size: 2rem; font-weight: bold; margin-bottom: 1.5rem;">Upload CSV Data</h1>

<div class="grid">
    <!-- Upload file card -->
    <div class="card">
        <div class="card-header">Upload a CSV file</div>
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="csv_file">Choose CSV file</label>
                    <input type="file" name="csv_file" id="csv_file" accept=".csv">
                </div>
                <div class="form-group">
                    <span style="display: block; margin-bottom: 0.375rem;">Action:</span>
                    <div class="radio-group">
                        <label><input type="radio" name="action" value="append" checked> Append</label>
                        <label><input type="radio" name="action" value="replace"> Replace</label>
                    </div>
                </div>
                <div class="flex gap-2" style="justify-content: flex-end;">
                    <a href="{{ url_for('data.list_data') }}" class="btn btn-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">Upload</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Paste CSV text card -->
    <div class="card">
        <div class="card-header">Or paste CSV text</div>
        <div class="card-body">
            <form method="POST">
                <div class="form-group">
                    <label for="csv_text">Paste CSV content (including header row)</label>
                    <textarea name="csv_text" id="csv_text" rows="8" placeholder="Name,Email,Department,Score&#10;John,john@example.com,Sales,90&#10;Jane,jane@example.com,Marketing,85"></textarea>
                </div>
                <div class="form-group">
                    <span style="display: block; margin-bottom: 0.375rem;">Action:</span>
                    <div class="radio-group">
                        <label><input type="radio" name="action" value="append" checked> Append</label>
                        <label><input type="radio" name="action" value="replace"> Replace</label>
                    </div>
                </div>
                <div class="flex gap-2" style="justify-content: flex-end;">
                    <a href="{{ url_for('data.list_data') }}" class="btn btn-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">Import</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="alert alert-info mt-4">
    <strong>Note:</strong> The CSV must have a header row. Column names will be matched with existing data. If columns differ, they will be merged.
</div>
{% endblock %}